{"version":3,"sources":["src/app/sign-in/sign-in.page.html","src/app/sign-in/sign-in-routing.module.ts","src/app/sign-in/sign-in.module.ts","src/app/sign-in/sign-in.page.scss","src/app/sign-in/sign-in.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-header title=\\\"'signIn'\\\"></app-header>\\r\\n<ion-content>\\r\\n  <div>\\r\\n    <div class=\\\"modal-header text-center d-block border-0\\\">\\r\\n      <h5 class=\\\"modal-title w-100\\\">Sign In</h5>\\r\\n      <div class=\\\"w-100 text-muted\\\">Instruction goes here</div>\\r\\n    </div>\\r\\n    <div class=\\\"modal-body p-4\\\">\\r\\n      <form [formGroup]=\\\"loginForm\\\">\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"\\\" class=\\\"size-font\\\">Email</label>\\r\\n          <input type=\\\"email\\\" class=\\\"form-control size-font\\\" id=\\\"\\\"\\r\\n            [ngClass]=\\\"{'invalidEntry': submitted && f.email.errors}\\\" formControlName=\\\"email\\\" placeholder=\\\"Enter email\\\">\\r\\n        </div>\\r\\n        <div *ngIf=\\\"submitted && f.email.errors\\\" class=\\\"form-group\\\">\\r\\n          <div *ngIf=\\\"f.email.errors.required\\\" class=\\\"text-danger\\\">Email is required</div>\\r\\n          <div *ngIf=\\\"f.email.errors.pattern\\\"  class=\\\"text-danger\\\">Enter a valid email</div>\\r\\n        </div>\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"\\\" class=\\\"size-font\\\">Password</label>\\r\\n          <input type=\\\"password\\\" class=\\\"form-control size-font\\\"\\r\\n            [ngClass]=\\\"{'invalidEntry': submitted && f.password.errors}\\\" formControlName=\\\"password\\\"\\r\\n            placeholder=\\\"Password\\\">\\r\\n        </div>\\r\\n        <div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"form-group\\\">\\r\\n          <div *ngIf=\\\"f.password.errors.required\\\"  class=\\\"text-danger\\\">Password is required</div>\\r\\n          <div *ngIf=\\\"f.password.errors.minlength\\\" class=\\\"text-danger\\\">Password must be at least 6 characters</div>\\r\\n      </div>\\r\\n        <div class=\\\"mb-3\\\"><span [routerLink]=\\\"['/user/forgot-password']\\\" class=\\\"size-font\\\">Forgot Password?</span>\\r\\n        </div>\\r\\n        <button class=\\\"btn btn-primary btn-block shadow-sm\\\" (click)=\\\"onLogin()\\\">SIGN IN</button>\\r\\n      </form>\\r\\n    </div>\\r\\n    <div class=\\\"modal-footer border-0 bg-light px-3\\\"> <span class=\\\"align-middle mr-auto size-font\\\">Do not have an\\r\\n        account?</span><span class=\\\"btn btn-danger shadow-sm shadow-sm\\\" [routerLink]=\\\"['/sign-up']\\\">JOIN FOR FREE</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignInPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignInPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SignInPageRoutingModule } from './sign-in-routing.module';\r\n\r\nimport { SignInPage } from './sign-in.page';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { SignInService } from './sign-in.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    SignInPageRoutingModule\r\n  ],\r\n  providers:[SignInService],\r\n  declarations: [SignInPage]\r\n})\r\nexport class SignInPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ24taW4vc2lnbi1pbi5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { SignInService } from './sign-in.service';\r\nimport { UtilityService } from '../utility/utility.service';\r\nimport { Router } from '@angular/router';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n\tselector: 'app-sign-in',\r\n\ttemplateUrl: './sign-in.page.html',\r\n\tstyleUrls: ['./sign-in.page.scss'],\r\n})\r\nexport class SignInPage implements OnInit {\r\n\tloginForm: FormGroup;\r\n\tsubmitted = false;\r\n\tusersDetails: any = [];\r\n\tconstructor(\r\n\t\tprivate storage: Storage,\r\n\t\tprivate signInService: SignInService,\r\n\t\tprivate utility: UtilityService,\r\n\t\tprivate router: Router) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.loginForm = new FormGroup({\r\n\t\t\temail: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])),\r\n\t\t\tpassword: new FormControl(null, { validators: [Validators.required, Validators.minLength(6)] })\r\n\t\t})\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.submitted = true;\r\n\t\tif (this.loginForm.invalid) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.signInService.login(this.loginForm.value).subscribe(data => {\r\n\t\t\tthis.usersDetails = data;\r\n\t\t\tif (this.usersDetails.message) {\r\n\t\t\t\tthis.utility.showToast(\"Invalid user email or password.\");\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.storage.set('userData', this.usersDetails.data.userData).then(dataxyz => {\r\n\t\t\t\t\tconst email = this.usersDetails.data.userData.email;\r\n\t\t\t\t\tconst usersId = this.usersDetails.data.userData.usersId;\r\n\t\t\t\t\tconst id = this.usersDetails.data.userData.uId;\r\n\t\t\t\t\tconst fullName = this.usersDetails.data.userData.fullName;\r\n\t\t\t\t\tconst usersTypeId = this.usersDetails.data.userData.usersTypeId;\r\n\t\t\t\t\tlocalStorage.setItem('isLoggedin', 'true');\r\n\t\t\t\t\tlocalStorage.setItem('currentUser', JSON.stringify(this.usersDetails.data.userData));\r\n\t\t\t\t\tlocalStorage.setItem('email', email);\r\n\t\t\t\t\tlocalStorage.setItem('usersId', usersId);\r\n\t\t\t\t\tlocalStorage.setItem('id', id);\r\n\t\t\t\t\tlocalStorage.setItem('fullName', fullName);\r\n\t\t\t\t\tif (usersTypeId.length > 0) {\r\n\t\t\t\t\t\tlocalStorage.setItem('profileComplitted', 'true');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.signInService.authStatusListener.next(true);\r\n\t\t\t\t\tthis.router.navigate([\"/gigs/Crew\"]);\r\n\t\t\t\t\tthis.utility.showToast(\"Login successfully\");\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t})\r\n\t}\r\n\r\n\tget f() { return this.loginForm.controls; }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"sign-in-sign-in-module-es5.js"}