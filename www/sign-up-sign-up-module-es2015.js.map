{"version":3,"sources":["./src/app/sign-up/sign-up.page.html","./src/app/sign-up/sign-up-routing.module.ts","./src/app/sign-up/sign-up.module.ts","./src/app/sign-up/sign-up.page.scss","./src/app/sign-up/sign-up.page.ts"],"names":[],"mappings":"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","file":"sign-up-sign-up-module-es2015.js","sourcesContent":["export default \"<app-header title=\\\"'signUp'\\\"></app-header>\\r\\n<ion-content>\\r\\n\\t<div>\\r\\n\\t\\t<div class=\\\"modal-header text-center d-block border-0\\\">\\r\\n\\t\\t\\t<h5 class=\\\"modal-title w-100\\\">Create An Account</h5>\\r\\n\\t\\t\\t<div class=\\\"w-100 text-muted\\\">Instruction goes here</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"modal-body p-4\\\">\\r\\n\\t\\t\\t<form [formGroup]=\\\"signUpForm\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Full Name</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control size-font\\\" formControlName=\\\"fullName\\\" id=\\\"\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.fullName.errors}\\\" placeholder=\\\"Enter full name\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.fullName.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.fullName.errors.required\\\" class=\\\"text-danger\\\">Full Name is required</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Email</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"email\\\" class=\\\"form-control size-font\\\" formControlName=\\\"email\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.email.errors}\\\" id=\\\"\\\" placeholder=\\\"Enter email\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.email.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.email.errors.required\\\" class=\\\"text-danger\\\">Email is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.email.errors.pattern\\\" class=\\\"text-danger\\\">Enter a valid email</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Password</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"form-control size-font\\\" formControlName=\\\"password\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.password.errors}\\\" placeholder=\\\"Password\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.password.errors.required\\\" class=\\\"text-danger\\\">Password is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.password.errors.minlength\\\" class=\\\"text-danger\\\">Password must be at least 6 characters\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Confirm Password</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"form-control size-font\\\" formControlName=\\\"cpassword\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.cpassword.errors}\\\" placeholder=\\\"Confirm password\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.cpassword.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.cpassword.errors.required\\\" class=\\\"text-danger\\\">Confirm Password is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.cpassword.errors.mustMatch\\\" class=\\\"text-danger\\\">Confirm Password must match with\\r\\n\\t\\t\\t\\t\\t\\tpassword</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- <div>\\r\\n\\t\\t\\t\\t\\t<ion-item lines=\\\"none\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-label>I agree to terms of service</ion-label>\\r\\n\\t\\t\\t\\t\\t\\t<ion-checkbox slot=\\\"start\\\"></ion-checkbox>\\r\\n\\t\\t\\t\\t\\t </ion-item>\\r\\n\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col size=\\\"1\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-checkbox (ionChange)=\\\"agreeTermsOfService($event)\\\"></ion-checkbox>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col size=\\\"11\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-label color=\\\"primary\\\" [routerLink]=\\\"['/common/tos']\\\">I agree to terms of service\\r\\n\\t\\t\\t\\t\\t\\t</ion-label>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t<button class=\\\"btn btn-primary btn-block shadow-sm\\\" (click)=\\\"signUp()\\\" [disabled]=\\\"!isAgreeTos\\\">SIGN UP</button>\\r\\n\\t\\t\\t</form>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"modal-footer border-0 bg-light px-3\\\"> <span class=\\\"mr-auto size-font\\\">Already have an\\r\\n\\t\\t\\t\\taccount?</span><span [routerLink]=\\\"['/common']\\\" class=\\\"btn btn-danger shadow-sm shadow-sm\\\">SIGN\\r\\n\\t\\t\\t\\tIN</span> </div>\\r\\n\\t</div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignUpPage } from './sign-up.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignUpPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignUpPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SignUpPageRoutingModule } from './sign-up-routing.module';\r\nimport { SignUpPage } from './sign-up.page';\r\nimport { SharedModule } from '../shared/shared.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    IonicModule,\r\n    SignUpPageRoutingModule\r\n  ],\r\n  declarations: [SignUpPage]\r\n})\r\nexport class SignUpPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ24tdXAvc2lnbi11cC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, DoCheck } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { MustMatch } from '../utility/must-match.validator';\r\nimport { SignUpService } from './sign-up.service';\r\nimport { Router } from '@angular/router';\r\nimport { UtilityService } from '../utility/utility.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { SignInService } from '../sign-in/sign-in.service';\r\n\r\n@Component({\r\n  selector: 'app-sign-up',\r\n  templateUrl: './sign-up.page.html',\r\n  styleUrls: ['./sign-up.page.scss'],\r\n})\r\nexport class SignUpPage implements OnInit  {\r\n  \r\n  signUpForm: FormGroup;\r\n  submitted = false;\r\n  usersDetails: any;\r\n  isAgreeTos = false;\r\n  constructor(\r\n    private signInService: SignInService,\r\n    private storage: Storage,\r\n    private utility: UtilityService,\r\n    private signUpService: SignUpService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router) {\r\n\r\n  }\r\n  ngOnInit() {\r\n    this.signUpForm = this.formBuilder.group({\r\n      fullName: ['', Validators.required],\r\n      email: ['', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      cpassword: ['', [Validators.required]]\r\n    }, {\r\n      validator: MustMatch('password', 'cpassword')\r\n    });\r\n  }\r\n\r\n  agreeTermsOfService(ev){\r\n    this.isAgreeTos = ev.detail.checked;\r\n  }\r\n\r\n  signUp() {\r\n    this.submitted = true;\r\n    if (this.signUpForm.invalid) {\r\n      return\r\n    }\r\n    this.signUpService.signUp(this.signUpForm.value).subscribe(data => {\r\n      this.usersDetails = data;\r\n      this.storage.set('userData', this.usersDetails.data.userData).then(dataxyz => {\r\n        this.signInService.authStatusListener.next(true);\r\n        // this.utility.showToast('Successfully signup.')\r\n        // this.router.navigateByUrl('/gigs/Crew')\r\n        if (this.usersDetails.message) {\r\n          this.router.navigate([\"/\"]);\r\n          this.utility.showToast(\"Emailid already registered.\");\r\n        }\r\n        else {\r\n          const email = this.usersDetails.data.userData.email;\r\n          const usersId = this.usersDetails.data.userData.usersId;\r\n          const id = this.usersDetails.data.userData.uId;\r\n          const fullName = this.usersDetails.data.userData.fullName;\r\n          localStorage.setItem('isLoggedin', 'true');\r\n          // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n          localStorage.setItem('currentUser', JSON.stringify(this.usersDetails.data.userData));\r\n          localStorage.setItem('email', email);\r\n          localStorage.setItem('usersId', usersId);\r\n          localStorage.setItem('id', id);\r\n          localStorage.setItem('fullName', fullName);\r\n          this.signUpService.authStatusListener.next(true);\r\n          this.router.navigateByUrl('/gigs/Crew')\r\n          this.utility.showToast(\"Signup successfully completed\");\r\n        }\r\n      },\r\n        error => {\r\n          this.utility.showToast(\"Emailid already registered.\")\r\n        });\r\n    })\r\n\r\n  }\r\n\r\n  get f() { return this.signUpForm.controls; }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}