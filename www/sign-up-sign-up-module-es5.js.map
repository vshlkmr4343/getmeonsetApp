{"version":3,"sources":["src/app/sign-up/sign-up.page.html","src/app/sign-up/sign-up-routing.module.ts","src/app/sign-up/sign-up.module.ts","src/app/sign-up/sign-up.page.scss","src/app/sign-up/sign-up.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<app-header title=\\\"'signUp'\\\"></app-header>\\r\\n<ion-content>\\r\\n\\t<div>\\r\\n\\t\\t<div class=\\\"modal-header text-center d-block border-0\\\">\\r\\n\\t\\t\\t<h5 class=\\\"modal-title w-100\\\">Create An Account</h5>\\r\\n\\t\\t\\t<div class=\\\"w-100 text-muted\\\">Instruction goes here</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"modal-body p-4\\\">\\r\\n\\t\\t\\t<form [formGroup]=\\\"signUpForm\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Full Name</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control size-font\\\" formControlName=\\\"fullName\\\" id=\\\"\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.fullName.errors}\\\" placeholder=\\\"Enter full name\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.fullName.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.fullName.errors.required\\\" class=\\\"text-danger\\\">Full Name is required</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Email</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"email\\\" class=\\\"form-control size-font\\\" formControlName=\\\"email\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.email.errors}\\\" id=\\\"\\\" placeholder=\\\"Enter email\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.email.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.email.errors.required\\\" class=\\\"text-danger\\\">Email is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.email.errors.pattern\\\" class=\\\"text-danger\\\">Enter a valid email</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Password</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"form-control size-font\\\" formControlName=\\\"password\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.password.errors}\\\" placeholder=\\\"Password\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.password.errors.required\\\" class=\\\"text-danger\\\">Password is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.password.errors.minlength\\\" class=\\\"text-danger\\\">Password must be at least 6 characters\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<label for=\\\"\\\" class=\\\"size-font\\\">Confirm Password</label>\\r\\n\\t\\t\\t\\t\\t<input type=\\\"password\\\" class=\\\"form-control size-font\\\" formControlName=\\\"cpassword\\\"\\r\\n\\t\\t\\t\\t\\t\\t[ngClass]=\\\"{'invalidEntry': submitted && f.cpassword.errors}\\\" placeholder=\\\"Confirm password\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div *ngIf=\\\"submitted && f.cpassword.errors\\\" class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.cpassword.errors.required\\\" class=\\\"text-danger\\\">Confirm Password is required</div>\\r\\n\\t\\t\\t\\t\\t<div *ngIf=\\\"f.cpassword.errors.mustMatch\\\" class=\\\"text-danger\\\">Confirm Password must match with\\r\\n\\t\\t\\t\\t\\t\\tpassword</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<!-- <div>\\r\\n\\t\\t\\t\\t\\t<ion-item lines=\\\"none\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-label>I agree to terms of service</ion-label>\\r\\n\\t\\t\\t\\t\\t\\t<ion-checkbox slot=\\\"start\\\"></ion-checkbox>\\r\\n\\t\\t\\t\\t\\t </ion-item>\\r\\n\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t<ion-row>\\r\\n\\t\\t\\t\\t\\t<ion-col size=\\\"1\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-checkbox (ionChange)=\\\"agreeTermsOfService($event)\\\"></ion-checkbox>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t\\t<ion-col size=\\\"11\\\">\\r\\n\\t\\t\\t\\t\\t\\t<ion-label color=\\\"primary\\\" [routerLink]=\\\"['/common/tos']\\\">I agree to terms of service\\r\\n\\t\\t\\t\\t\\t\\t</ion-label>\\r\\n\\t\\t\\t\\t\\t</ion-col>\\r\\n\\t\\t\\t\\t</ion-row>\\r\\n\\t\\t\\t\\t<button class=\\\"btn btn-primary btn-block shadow-sm\\\" (click)=\\\"signUp()\\\" [disabled]=\\\"!isAgreeTos\\\">SIGN UP</button>\\r\\n\\t\\t\\t</form>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"modal-footer border-0 bg-light px-3\\\"> <span class=\\\"mr-auto size-font\\\">Already have an\\r\\n\\t\\t\\t\\taccount?</span><span [routerLink]=\\\"['/common']\\\" class=\\\"btn btn-danger shadow-sm shadow-sm\\\">SIGN\\r\\n\\t\\t\\t\\tIN</span> </div>\\r\\n\\t</div>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SignUpPage } from './sign-up.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SignUpPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SignUpPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SignUpPageRoutingModule } from './sign-up-routing.module';\r\nimport { SignUpPage } from './sign-up.page';\r\nimport { SharedModule } from '../shared/shared.module';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    SharedModule,\r\n    IonicModule,\r\n    SignUpPageRoutingModule\r\n  ],\r\n  declarations: [SignUpPage]\r\n})\r\nexport class SignUpPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZ24tdXAvc2lnbi11cC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, DoCheck } from '@angular/core';\r\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\r\nimport { MustMatch } from '../utility/must-match.validator';\r\nimport { SignUpService } from './sign-up.service';\r\nimport { Router } from '@angular/router';\r\nimport { UtilityService } from '../utility/utility.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { SignInService } from '../sign-in/sign-in.service';\r\n\r\n@Component({\r\n  selector: 'app-sign-up',\r\n  templateUrl: './sign-up.page.html',\r\n  styleUrls: ['./sign-up.page.scss'],\r\n})\r\nexport class SignUpPage implements OnInit  {\r\n  \r\n  signUpForm: FormGroup;\r\n  submitted = false;\r\n  usersDetails: any;\r\n  isAgreeTos = false;\r\n  constructor(\r\n    private signInService: SignInService,\r\n    private storage: Storage,\r\n    private utility: UtilityService,\r\n    private signUpService: SignUpService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router) {\r\n\r\n  }\r\n  ngOnInit() {\r\n    this.signUpForm = this.formBuilder.group({\r\n      fullName: ['', Validators.required],\r\n      email: ['', [Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]],\r\n      cpassword: ['', [Validators.required]]\r\n    }, {\r\n      validator: MustMatch('password', 'cpassword')\r\n    });\r\n  }\r\n\r\n  agreeTermsOfService(ev){\r\n    this.isAgreeTos = ev.detail.checked;\r\n  }\r\n\r\n  signUp() {\r\n    this.submitted = true;\r\n    if (this.signUpForm.invalid) {\r\n      return\r\n    }\r\n    this.signUpService.signUp(this.signUpForm.value).subscribe(data => {\r\n      this.usersDetails = data;\r\n      this.storage.set('userData', this.usersDetails.data.userData).then(dataxyz => {\r\n        this.signInService.authStatusListener.next(true);\r\n        // this.utility.showToast('Successfully signup.')\r\n        // this.router.navigateByUrl('/gigs/Crew')\r\n        if (this.usersDetails.message) {\r\n          this.router.navigate([\"/\"]);\r\n          this.utility.showToast(\"Emailid already registered.\");\r\n        }\r\n        else {\r\n          const email = this.usersDetails.data.userData.email;\r\n          const usersId = this.usersDetails.data.userData.usersId;\r\n          const id = this.usersDetails.data.userData.uId;\r\n          const fullName = this.usersDetails.data.userData.fullName;\r\n          localStorage.setItem('isLoggedin', 'true');\r\n          // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n          localStorage.setItem('currentUser', JSON.stringify(this.usersDetails.data.userData));\r\n          localStorage.setItem('email', email);\r\n          localStorage.setItem('usersId', usersId);\r\n          localStorage.setItem('id', id);\r\n          localStorage.setItem('fullName', fullName);\r\n          this.signUpService.authStatusListener.next(true);\r\n          this.router.navigateByUrl('/gigs/Crew')\r\n          this.utility.showToast(\"Signup successfully completed\");\r\n        }\r\n      },\r\n        error => {\r\n          this.utility.showToast(\"Emailid already registered.\")\r\n        });\r\n    })\r\n\r\n  }\r\n\r\n  get f() { return this.signUpForm.controls; }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"sign-up-sign-up-module-es5.js"}